<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <script type="text/javascript">
        function showMessage() {
            var message = "{{ get_flashed_messages() | first }}"; // Obtiene el primer mensaje flash
            if (message) {
                // Usando confirm en lugar de alert para ofrecer una opción de cerrar
                confirm(message);
            }
        }
    </script>

    <!-- Agrega el script de Google reCAPTCHA -->
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <script>
        function onSubmit(token) {
          document.getElementById("sign-up-form").submit();
        }
      </script>

</head>
<body onload="showMessage()"> 
    <h2>Iniciar Sesión</h2>
    <form id="sign-up-form" method="POST">
        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" name="email" required><br><br>
        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required><br><br>
        
        <!-- Inicio de Sesión Autenticado con reCAPTCHA -->
        <button type="submit" class="g-recaptcha" data-sitekey="{{ site_key }}" data-callback='onSubmit' data-action='submit'>Iniciar Sesión (CAPTCHA)</button>

    </form>
</body>
</html>
